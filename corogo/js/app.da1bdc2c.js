!function(t){function e(e){for(var o,i,s=e[0],c=e[1],l=e[2],p=0,f=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(u&&u(e);f.length;)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={0:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([129,1]),n()}({103:function(t,e,n){},129:function(t,e,n){"use strict";n.r(e);n(51),n(90),n(102),n(103);var o=n(50),r=n(15);n(74),n(32),n(79),n(49),n(108),n(109),n(110),n(81);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function t(e){var n=t.synth,o=localStorage.getItem("last-key")||"notok",r="OK".concat(Date()),a=e,s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return JSON.parse(localStorage.getItem(t))||[]}(),c=0,l={x:0,y:0,r:30,fill:[1,1,1,1],increment:5,stop:-5},u=[i({},l)],p=function(){return s.length>0&&!1},f=!0;a.speed=.05,a.setup=function(){a.noLoop(),a.pixelDensity(1),a.createCanvas(100,100),a.background(255,255,100),a.noStroke()},a.draw=function(){p()&&(l=s[c]),l.x>=Math.abs(a.width-l.r-l.stop)?l.y+=l.increment:(n.triggerAttackRelease(a.constrain(Math.abs(l.fill[1]/l.fill[2])*l.increment+4*l.x-10*l.y,40,2e5),"1"),l.x+=l.increment),l.y>Math.abs(a.height-l.r-l.stop)&&(p()?l=s[c+=1]:(l.fill=[Math.floor(a.random(-700,300)),Math.floor(a.random(-255,100)),Math.floor(a.random(-500,500))],l.r+=6*Math.floor(5*Math.random()),l.x=-5,l.y=-5,u.push(i({},l)))),l.r>Math.abs(a.height-l.stop)&&(l.r=10,p()||(l.increment=Math.ceil(33*Math.ceil(33*Math.random())/l.r)),l.increment>3&&(l.stop+=(a.width/3*3-l.stop)*a.speed,l.stop>100*a.width&&(a.saveCapture(),setTimeout((function(){a.clear(),l={x:0,y:0,r:30,fill:0,increment:5,stop:-5},a.loop()}),1e4)))),a.fill(l.fill),a.rect(l.x,l.y,l.r)},a.keyPressed=function(){switch(a.keyCode){case 32:a.saveCapture();break;case 78:f?(a.noLoop(),f=!f):(a.loop(),f=!f)}},a.saveCapture=function(){var t,e;a.noLoop(),a.pixelDensity()>5&&(a.saveCanvas(document.querySelector("canvas"),"ok".concat(Date()),"png"),p()||(console.log(JSON.stringify(u)),t=u,e=r,localStorage.setItem(e,JSON.stringify(t)),localStorage.setItem("last-key",e)))}},l=function t(e){var n=e,o=t.synth,r=t.Tone;n.lastKey=localStorage.getItem("last-key")||"notok",n.thisKey="OK".concat(Date()),n.get=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.lastKey;return JSON.parse(localStorage.getItem(t))||[]},n.save=function(t,e){localStorage.setItem(e,JSON.stringify(t)),localStorage.setItem("last-key",e)};var a=!0,i={x:30,y:30,r:10,fill:[0,0,0,0]},s=new r.Sequence((function(t,e){i.fill=[Math.floor(n.random(-200,600)),Math.floor(n.random(-255,100)),Math.floor(n.random(-500,500))],i.r=Math.floor(5*Math.random())*n.scaleRef/15,i.x=n.width/2,i.y=e+100,o.triggerAttackRelease(e,"4n")}),[110,220,[55,220,[440,880,440]]]);n.setup=function(){n.pixelDensity(3),n.createCanvas(n.windowWidth,n.windowHeight),n.scaleRef=(n.width+n.height)/2,n.background(0),n.noStroke(),n.rectMode(n.CENTER),s.humanize=!0,s.probability=1,s.start(),r.Transport.loopEnd="1:0:0",r.Transport.loop=!0,r.Transport.bpm.value=70},n.draw=function(){i.r+=.5*(n.noise(i.fill[0],i.fill[3],i.fill[1])*n.scaleRef/2-i.r),n.fill(i.fill),i.y<n.height/2?n.rect(i.x,i.y,i.r):n.ellipse(i.x,i.y,i.r)},n.mousePressed=function(){i.x+=5,r.Transport.start()},n.keyPressed=function(){switch(n.keyCode){case 32:n.saveCapture();break;case 78:r.Transport.toggle(),a?(n.noLoop(),a=!a):(n.loop(),a=!a);break;case 65:r.Transport.clear(2);break;default:console.log(r.Transport),s.at(2,[220,n.random(220,480)]),console.log(s)}},n.saveCapture=function(){n.pixelDensity()>1&&n.saveCanvas(document.querySelector("canvas"),"ok".concat(Date()),"png")}},u=(n(83),n(111),n(112),n(115),n(116),n(117),n(84),n(123),n(124),n(126),n(128),function(t,e,n,o){return Math.sqrt(Math.pow(t-e,2)+Math.pow(n-o,2))});function p(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var h=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=25+15*Math.random(),this.pos={x:e,y:n},this.updating=!0,o&&(this.virus=!0,this.fill=[120*Math.random(),120*Math.random(),120*Math.random(),255])}var e,n,o;return e=t,(n=[{key:"contagion",value:function(t){var e=this;t.forEach((function(t){u(t.pos.x,e.pos.x,t.pos.y,e.pos.y)<20&&e.virus&&!t.virus&&Math.random()>.5&&(t.virus=!0,t.mother=e,t.fill=[].concat(p(e.fill.slice(0,3)),[Math.abs(e.fill[3]-40)]))}))}},{key:"update",value:function(t){this.updating=!0,this.pos.x+=.1*(t.x-this.pos.x),this.pos.y+=.08*(t.y-this.pos.y),u(t.x,this.pos.x,t.y,this.pos.y)<1&&(this.updating=!1)}},{key:"display",value:function(t){t.push(),t.fill(this.virus?this.fill:[255,255,255,3*this.r]),t.ellipse(this.pos.x,this.pos.y,this.r),this.mother&&u(this.mother.pos.x,this.pos.x,this.mother.pos.y,this.pos.y)<100&&(t.strokeWeight(10),t.stroke(p(this.fill.slice(0,4))),t.line(this.pos.x,this.pos.y,this.mother.pos.x,this.mother.pos.y)),t.pop()}}])&&f(e.prototype,n),o&&f(e,o),t}(),y=function t(e){var n=e,o=t.Tone;n.lastKey=localStorage.getItem("last-key")||"notok",n.thisKey="OK".concat(Date()),n.get=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.lastKey;return JSON.parse(localStorage.getItem(t))||[]},n.save=function(t,e){localStorage.setItem(e,JSON.stringify(t)),localStorage.setItem("last-key",e)};var r=!0,a={x:30,y:30,r:10,fill:[0,0,0,0]},i=[],s=[],c=4,l=0;n.setup=function(){n.createCanvas(n.windowWidth,n.windowHeight),n.scaleRef=(n.width+n.height)/2,n.background(0),n.noStroke(),n.rectMode(n.CENTER),n.textAlign(n.CENTER),n.textSize(40);for(var t=0;t<100;t+=1)i[t]=new h(n.random(0,n.width),n.random(0,n.height)),s[t]={x:n.random(0,n.width),y:n.random(0,n.height)}},n.draw=function(){n.background(200,200,200),n.beginShape(),n.noFill(),i.forEach((function(t,e){t.updating||t.contagion(i),t.update(s[e]),t.display(n),t.virus})),n.fill(255,100,100,160),n.ellipse(n.mouseX,n.mouseY,80),n.text("".concat(l," Days\n ").concat((i.filter((function(t){return t.virus})).length/i.length*100).toFixed(2),"%"),n.width/2,.7*n.height)},n.touchEnded=function(){l+=1,c>0&&(i.push(new h(n.mouseX,n.mouseY,!0)),s.push({x:n.mouseX,y:n.mouseY}),c-=1),s=s.map((function(t){return Math.random()>.9?{ancient:{x:t.x,y:t.y},x:n.mouseX+n.random(-50,50),y:n.mouseY+n.random(-50,50)}:Math.random()>.8?{ancient:{x:t.x,y:t.y},x:n.random(0,n.width),y:n.random(0,n.height)}:Math.random()>.5&&t.ancient?t.ancient:t})),a.x+=5},n.keyPressed=function(){switch(n.keyCode){case 32:n.saveCapture();break;case 78:o.Transport.toggle(),r?(n.noLoop(),r=!r):(n.loop(),r=!r)}},n.saveCapture=function(){n.pixelDensity()>1&&n.saveCanvas(document.querySelector("canvas"),"ok".concat(Date()),"png")},n.windowResized=function(){n.resizeCanvas(n.windowWidth,n.windowHeight)}};function d(t,e,n,o,r,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,r)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){d(a,o,r,i,s,"next",t)}function s(t){d(a,o,r,i,s,"throw",t)}i(void 0)}))}}var m=new r.Distortion(.1),v=new r.Tremolo(5,.6).start(),w=new r.Synth({oscillator:{type:"sine",modulationType:"sawtooth",modulationIndex:6,harmonicity:1},envelope:{attack:.4,decay:.1,sustain:.8,release:1}}).chain(m,v,r.Master);c.synth=w,l.synth=w,l.Tone=r;new o(y);o.friendlyReport=!1,document.querySelector("body").addEventListener("click",g(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.start();case 2:console.log("audio is ready");case 3:case"end":return t.stop()}}),t)}))))}});
//# sourceMappingURL=app.da1bdc2c.js.map